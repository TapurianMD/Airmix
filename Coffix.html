<!-- Copyright Â© 2016, Xerxes Langerudi. All rights reserved. -->

<!doctype html>

<html>
<head>
	<title>Airmix</title>
</head>
<body>

<canvas width="1266" height="650"></canvas>

<script type="text/javascript">

myCanvasX = 1266;
myCanvasY = 650;

var cx = document.querySelector("canvas").getContext("2d");

function drawAirmixCup(x, y)
{
	// This function is 100 % scalable
	cx.beginPath();

	var liquidLevel = 30;
	var liquidColor = "#4c1900";

	var cupSize = 1;
	var cupHeight = cupSize * 40;
	var cupWidth = cupSize * 30;

	var cupHandleWidth = cupSize * 8;
	var cupHandleUpper = cupSize * 12;
	var cupHandleLower = cupSize * 28;

	var fillHeight = cupSize * 33;
	var fillWidth = cupSize * 30 - 2;
	var fillTo = cupSize * 7;

	var fontSize = cupSize * 8;
	var textX = cupSize * 2;
	var textY = cupSize * 20;

	// Cup
	cx.fillStyle = "white";

	cx.moveTo(x, y);
	cx.lineTo(x, y + cupHeight);
	cx.lineTo(x + cupWidth, y + cupHeight);
	cx.lineTo(x + cupWidth, y);

	// Cup handle
	cx.moveTo(x + cupWidth, y + cupHandleUpper);
	cx.lineTo(x + cupWidth + cupHandleWidth, y + cupHandleUpper);
	cx.lineTo(x + cupWidth + cupHandleWidth, y + cupHandleLower);
	cx.lineTo(x + cupWidth, y + cupHandleLower);

	cx.stroke();
	cx.fill();

	cx.fillStyle = liquidColor;

	cx.fillRect(x + 1, y + fillTo, fillWidth, fillHeight);

	cx.stroke();

	// Write Airmix
	cx.fillStyle = "gold";
	cx.font = fontSize + "px Verdana";
	cx.fillText("Airmix", x + textX, y + textY);

	cx.closePath();
}

function drawGlider(x, y, mode)
{

	cx.moveTo(x, y);

	// Upper
	cx.beginPath();
	cx.arc(x + 15, y + 20, 160, 4.00, 5.42);
	cx.stroke();

	// Bottom
	cx.beginPath();
	cx.arc(x + 15, y + 116, 240, 4.26, 5.16);
	cx.stroke();

	// Left line
	cx.moveTo(x - 88, y - 100);
	cx.lineTo(x, y);

	// Mid line
	cx.moveTo(x + 15, y - 123);
	cx.lineTo(x + 15, y);

	// Right line
	cx.moveTo(x + 118, y - 100);
	cx.lineTo(x + 30, y);

	cx.strokeStyle = "fuchsia";
	cx.lineWidth = 2;
	cx.stroke();

	cx.closePath();
}

function drawAirmixUnit(x, y, cupY)
{
	drawGlider(x, y);

	drawAirmixCup(x, cupY? cupY : y);
}

var i = 0;
var y = 0;

airShow = setInterval(function()
{
	cx.fillStyle = "white";

	cx.fillRect(0, 0, myCanvasX, myCanvasY);

	y = i < 300? i + 180: y; 

	drawAirmixUnit(578, 180 + i, y)

	drawAirmixUnit(578 - 300, 180 - 150 + i)

	drawAirmixUnit(578 + 300, 180 - 150 + i)

	drawAirmixUnit(578 - 300, 180 + 150 + i)

	drawAirmixUnit(578 + 300, 180 + 150 + i)

	i++;

	i > 761? clearInterval(airShow) : 0;

	if (i > 220)
	{
		// Stand
		cx.beginPath();
		cx.fillStyle = "#4c1900";
		cx.fillRect(578 - 50, 530, 140, 40);
		cx.stroke();
	}

	cx.fillStyle = "white";

	if (i > 225)
	{
		cx.fillStyle = "gold";

		// Write Airmix
		cx.beginPath();
		cx.font = "30px Verdana";
		cx.fillText("Airmix", 578 - 30, 560);
	}

}, 20);

</script>

</body>
</html>
